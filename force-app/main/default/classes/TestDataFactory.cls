@IsTest 
public class TestDataFactory { 
    // ğŸ† Classe de test servant Ã  crÃ©er des donnÃ©es fictives pour les tests
    // ğŸ”¹ Rend cette mÃ©thode accessible aux classes de test
    public static Account createTestAccount() { 
        // ğŸ—ï¸ MÃ©thode qui crÃ©e et retourne un compte de test
        Account acc = new Account(Name = 'Test Account'); 
        // ğŸ”¹ CrÃ©ation d'un compte avec un nom "Test Account"
       // insert acc; 
        // ğŸ“Œ InsÃ¨re le compte dans la base de donnÃ©es (uniquement pendant les tests)
        return acc; 
        // ğŸ”„ Retourne l'objet compte crÃ©Ã©
    }
    
    public static List<Opportunity> createTestOpportunities(Id accountId, Integer nbreOpportunities) { 
        // ğŸ—ï¸ MÃ©thode qui crÃ©e et retourne une opportunitÃ© associÃ©e Ã  un compte

        // if (accountId == null) { 
        //     // VÃ©rifie que l'ID du compte n'est pas null avant de crÃ©er une opportunitÃ©
        //     throw new IllegalArgumentException('accountId ne peut pas Ãªtre null'); 
        //     // Si l'ID est vide, on lÃ¨ve une erreur pour Ã©viter un bug
        // }
        List<Opportunity> opportunities = new List<Opportunity>(); 
        for (Integer i = 0; i< nbreOpportunities; i++) {
            opportunities.add (new Opportunity(
                Name = 'TestOpp'+i ,
                StageName = 'Prospecting',
                CloseDate = Date.today().addDays(30),
                AccountId = accountId,
                Amount = 1000 + i * 100
            ));
        }
       // insert opportunities;
        return opportunities ;
    }

    
    public static List<Case> createTestCases(Id accountId, Integer nbreCases) {
        List<Case> cases = new List<Case>();
        for (Integer i = 0; i< nbreCases; i++) {
            cases.add(new Case(
                AccountId = accountId,
                Subject = 'Test Case '+i,
                Status = 'New',
                Priority = 'High'
            ));
        
        }
        insert cases;
        return cases;
    }
}